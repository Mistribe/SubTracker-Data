{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "array",
  "title": "Providers Schema",
  "description": "Schema for service providers with their plans and pricing information",
  "items": {
    "type": "object",
    "required": [
      "name",
      "key",
      "website",
      "pricing_page",
      "icon",
      "categories"
    ],
    "properties": {
      "name": {
        "type": "string",
        "description": "Display name of the provider"
      },
      "key": {
        "type": "string",
        "description": "Unique identifier key for the provider"
      },
      "website": {
        "type": "string",
        "format": "uri",
        "description": "Main website URL of the provider"
      },
      "pricing_page": {
        "type": "string",
        "format": "uri",
        "description": "URL to the provider's pricing page"
      },
      "icon": {
        "type": "string",
        "format": "uri",
        "description": "URL to the provider's icon/logo"
      },
      "categories": {
        "type": "array",
        "description": "List of categories this provider belongs to",
        "items": {
          "type": "string",
          "enum": [
            "streaming",
            "utilities",
            "vpn",
            "vod",
            "streaming-music",
            "streaming-video",
            "shopping",
            "storage",
            "internet",
            "mobile",
            "work",
            "kid",
            "cloud",
            "hosting",
            "gaming"
          ]
        },
        "minItems": 1
      },
      "plans": {
        "type": "array",
        "description": "Available subscription plans for this provider",
        "items": {
          "type": "object",
          "required": [
            "name",
            "description",
            "features",
            "prices",
            "recurrency"
          ],
          "properties": {
            "name": {
              "$ref": "#/$defs/localizedString",
              "description": "Plan name with localization support"
            },
            "description": {
              "$ref": "#/$defs/localizedString",
              "description": "Plan description with localization support"
            },
            "features": {
              "type": "array",
              "description": "List of features included in this plan",
              "items": {
                "$ref": "#/$defs/localizedString"
              }
            },
            "prices": {
              "$ref": "#/$defs/price",
              "description": "Pricing information for the plan"
            },
            "recurrency": {
              "type": "string",
              "enum": [
                "monthly",
                "yearly",
                "weekly",
                "daily"
              ],
              "description": "Billing frequency"
            },
            "options": {
              "type": "object",
              "description": "Additional options or add-ons for the plan",
              "required": [
                "name",
                "description",
                "allow_multiple",
                "prices"
              ],
              "properties": {
                "name": {
                  "$ref": "#/$defs/localizedString",
                  "description": "Option name with localization support"
                },
                "description": {
                  "$ref": "#/$defs/localizedString",
                  "description": "Option description with localization support"
                },
                "allow_multiple": {
                  "type": "boolean",
                  "description": "Whether multiple instances of this option can be added"
                },
                "prices": {
                  "$ref": "#/$defs/price",
                  "description": "Pricing for this option"
                }
              }
            }
          }
        }
      }
    }
  },
  "$defs": {
    "localizedString": {
      "type": "object",
      "required": [
        "default"
      ],
      "properties": {
        "default": {
          "type": "string",
          "description": "Default text in the primary language"
        },
        "local": {
          "type": "object",
          "description": "Localized versions of the text",
          "patternProperties": {
            "^[a-z]{2}-[a-z]{2}$": {
              "type": "string",
              "description": "Localized text for a specific locale (e.g., 'fr-fr')"
            }
          },
          "additionalProperties": false
        }
      }
    },
    "price": {
      "type": "object",
      "required": [
        "amount",
        "currency"
      ],
      "properties": {
        "amount": {
          "type": "number",
          "minimum": 0,
          "description": "Price amount"
        },
        "currency": {
          "type": "string",
          "pattern": "^[A-Z]{3}$",
          "description": "Currency code in ISO 4217 format (e.g., 'USD', 'EUR')"
        }
      }
    }
  }
}